<!-- python -m mujoco.viewer -->
<!-- Change: uses script-generated heightfield (uneven terrain) -->

<mujoco model="UGV">
  <default>
    <joint limited="true" damping="0.1" armature="0.01" frictionloss="0.01" />
    <geom condim="4" contype="1" conaffinity="15" friction="1.2 0.05 0.02" solref="0.01 1" />
    <motor ctrllimited="true" />
    <equality solref="0.01 1" />
    <default class="visualgeom">
      <geom material="visualgeom" condim="1" contype="0" conaffinity="0" />
    </default>
  </default>

  <compiler angle="radian" meshdir="meshes" eulerseq="zyx" autolimits="true" />

  <asset>
    <texture name="texplane" type="2d" builtin="checker" rgb1=".0 .0 .0" rgb2=".8 .8 .8" width="100" height="100" />
    <material name="matplane" reflectance="0." texture="texplane" texrepeat="1 1" texuniform="true" />
    <material name="front_left_wheel_0_extension_body_material" rgba="1 0 0 1" />
    <material name="front_left_wheel_1_extension_body_material" rgba="1 0 0 1" />
    <material name="front_left_wheel_2_extension_body_material" rgba="1 0 0 1" />
    <material name="front_right_wheel_0_extension_body_material" rgba="1 0 0 1" />
    <material name="front_right_wheel_1_extension_body_material" rgba="1 0 0 1" />
    <material name="front_right_wheel_2_extension_body_material" rgba="1 0 0 1" />
    <material name="rear_left_wheel_0_extension_body_material" rgba="1 0 0 1" />
    <material name="rear_left_wheel_1_extension_body_material" rgba="1 0 0 1" />
    <material name="rear_left_wheel_2_extension_body_material" rgba="1 0 0 1" />
    <material name="rear_right_wheel_0_extension_body_material" rgba="1 0 0 1" />
    <material name="rear_right_wheel_1_extension_body_material" rgba="1 0 0 1" />
    <material name="rear_right_wheel_2_extension_body_material" rgba="1 0 0 1" />
    <material name="default_material" rgba="0.7 0.7 0.7 1" />
    <hfield name="terrain_hf" file="terrain_height_go.bin" size="5 5 0.3 0.2" />
  </asset>

  <worldbody>
    <light directional="true" diffuse="0.4 0.4 0.4" specular="0.1 0.1 0.1" pos="0 0 5.0" dir="0 0 -1" castshadow="false" />
    <light directional="true" diffuse="0.6 0.6 0.6" specular="0.2 0.2 0.2" pos="0 0 4" dir="0 0 -1" />
    <!-- <geom name="ground" type="plane" pos="0 0 0" size="10 10 0.001" quat="1 0 0 0" material="matplane" condim="3" conaffinity="15" />
    <geom name="traverse_box" type="box" pos="0.6 0 0.01" size="0.2 5 0.05" rgba="0.8 0.2 0.2 1" />
    <site name="traverse_box_site" pos="0.6 0 0.01" size="0.01" rgba="1 1 0 1"/> -->

    <geom name="terrain" type="hfield" hfield="terrain_hf" pos="0 0 0" rgba="0.6 0.6 0.6 1" quat="0.70710678 0 0 0.70710678" contype="1" conaffinity="1" />



    <body name="root" pos="-4.5 0 0.330117751451163032" quat="1 0 0 0">
      <freejoint name="root" />
      <site name="root_site" pos="0 0 0" quat="1 0 0 0" />
      <body name="chassis" pos="0 0 0" quat="1 0 0 0">
        <inertial pos="0 0 0.02" mass="1.5" diaginertia="0.001363626666666667 0.0005815466666666668 0.001784746666666667" />
        <geom name="chassis_collision_0" pos="0 0 0" quat="1 0 0 0" type="box" size="0.05 0.08 0.02" rgba="0 0 0 0" />
        <geom name="chassis_visual_0" class="visualgeom" pos="0 0 0" quat="1 0 0 0" material="default_material" type="box" size="0.05 0.08 0.02" />
        <body name="front_left_wheel_body" pos="0.05 -0.085 0" quat="1.0 0.0 0.0 0.0">
          <joint name="front_left_wheel_joint" type="hinge" axis="0 1 0" limited="false"/>
          <inertial pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" mass="0.01963495408493621" diaginertia="3.231586193145752e-06 3.231586193145752e-06 6.135923151542567e-06" />
          <geom name="front_left_wheel_body_collision_0" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" type="cylinder" size="0.025 0.005" rgba="0 0 0 0" />
          <geom name="front_left_wheel_body_visual_0" class="visualgeom" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" material="default_material" type="cylinder" size="0.025 0.005" />
          <body name="front_left_wheel_0_extension_body" pos="0.020833333333333336 -0.0075 0" quat="0.573576436351046 0.0 0.8191520442889918 0.0">
            <joint name="front_left_wheel_0_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="front_left_wheel_0_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="front_left_wheel_0_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="front_left_wheel_0_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="front_left_wheel_1_extension_body" pos="-0.010416666666666663 -0.0075 0.018042195912175808" quat="0.9961946980917455 0.0 -0.0871557427476581 0.0">
            <joint name="front_left_wheel_1_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="front_left_wheel_1_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="front_left_wheel_1_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="front_left_wheel_1_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="front_left_wheel_2_extension_body" pos="-0.010416666666666676 -0.0075 -0.018042195912175804" quat="0.4226182617406996 0.0 -0.9063077870366498 0.0">
            <joint name="front_left_wheel_2_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="front_left_wheel_2_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="front_left_wheel_2_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="front_left_wheel_2_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
        </body>
        <body name="front_right_wheel_body" pos="0.05 0.085 0" quat="1.0 0.0 0.0 0.0">
          <joint name="front_right_wheel_joint" type="hinge" axis="0 1 0" limited="false"/>
          <inertial pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" mass="0.01963495408493621" diaginertia="3.231586193145752e-06 3.231586193145752e-06 6.135923151542567e-06" />
          <geom name="front_right_wheel_body_collision_0" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" type="cylinder" size="0.025 0.005" rgba="0 0 0 0" />
          <geom name="front_right_wheel_body_visual_0" class="visualgeom" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" material="default_material" type="cylinder" size="0.025 0.005" />
          <body name="front_right_wheel_0_extension_body" pos="0.020833333333333336 0.0075 0" quat="0.573576436351046 0.0 0.8191520442889918 0.0">
            <joint name="front_right_wheel_0_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="front_right_wheel_0_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="front_right_wheel_0_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="front_right_wheel_0_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="front_right_wheel_1_extension_body" pos="-0.010416666666666663 0.0075 0.018042195912175808" quat="0.9961946980917455 0.0 -0.0871557427476581 0.0">
            <joint name="front_right_wheel_1_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="front_right_wheel_1_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="front_right_wheel_1_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="front_right_wheel_1_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="front_right_wheel_2_extension_body" pos="-0.010416666666666676 0.0075 -0.018042195912175804" quat="0.4226182617406996 0.0 -0.9063077870366498 0.0">
            <joint name="front_right_wheel_2_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="front_right_wheel_2_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="front_right_wheel_2_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="front_right_wheel_2_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
        </body>
        <body name="rear_left_wheel_body" pos="-0.05 -0.085 0" quat="1.0 0.0 0.0 0.0">
          <joint name="rear_left_wheel_joint" type="hinge" axis="0 1 0" limited="false"/>
          <inertial pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" mass="0.01963495408493621" diaginertia="3.231586193145752e-06 3.231586193145752e-06 6.135923151542567e-06" />
          <geom name="rear_left_wheel_body_collision_0" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" type="cylinder" size="0.025 0.005" rgba="0 0 0 0" />
          <geom name="rear_left_wheel_body_visual_0" class="visualgeom" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" material="default_material" type="cylinder" size="0.025 0.005" />
          <body name="rear_left_wheel_0_extension_body" pos="0.020833333333333336 -0.0075 0" quat="0.573576436351046 0.0 0.8191520442889918 0.0">
            <joint name="rear_left_wheel_0_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="rear_left_wheel_0_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="rear_left_wheel_0_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="rear_left_wheel_0_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="rear_left_wheel_1_extension_body" pos="-0.010416666666666663 -0.0075 0.018042195912175808" quat="0.9961946980917455 0.0 -0.0871557427476581 0.0">
            <joint name="rear_left_wheel_1_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="rear_left_wheel_1_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="rear_left_wheel_1_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="rear_left_wheel_1_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="rear_left_wheel_2_extension_body" pos="-0.010416666666666676 -0.0075 -0.018042195912175804" quat="0.4226182617406996 0.0 -0.9063077870366498 0.0">
            <joint name="rear_left_wheel_2_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="rear_left_wheel_2_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="rear_left_wheel_2_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="rear_left_wheel_2_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
        </body>
        <body name="rear_right_wheel_body" pos="-0.05 0.085 0" quat="1.0 0.0 0.0 0.0">
          <joint name="rear_right_wheel_joint" type="hinge" axis="0 1 0" limited="false"/>
          <inertial pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" mass="0.01963495408493621" diaginertia="3.231586193145752e-06 3.231586193145752e-06 6.135923151542567e-06" />
          <geom name="rear_right_wheel_body_collision_0" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" type="cylinder" size="0.025 0.005" rgba="0 0 0 0" />
          <geom name="rear_right_wheel_body_visual_0" class="visualgeom" pos="0 0 0" quat="0.7071067811865476 0.7071067811865476 0.0 0.0" material="default_material" type="cylinder" size="0.025 0.005" />
          <body name="rear_right_wheel_0_extension_body" pos="0.020833333333333336 0.0075 0" quat="0.573576436351046 0.0 0.8191520442889918 0.0">
            <joint name="rear_right_wheel_0_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="rear_right_wheel_0_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="rear_right_wheel_0_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="rear_right_wheel_0_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="rear_right_wheel_1_extension_body" pos="-0.010416666666666663 0.0075 0.018042195912175808" quat="0.9961946980917455 0.0 -0.0871557427476581 0.0">
            <joint name="rear_right_wheel_1_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="rear_right_wheel_1_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="rear_right_wheel_1_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="rear_right_wheel_1_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
          <body name="rear_right_wheel_2_extension_body" pos="-0.010416666666666676 0.0075 -0.018042195912175804" quat="0.4226182617406996 0.0 -0.9063077870366498 0.0">
            <joint name="rear_right_wheel_2_extension_joint" type="hinge" range="-1.047 3.427" axis="0 1 0" />
            <inertial pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" mass="0.02" diaginertia="2.604166666666667e-09 3.385416666666667e-08 3.385416666666667e-08" />
            <geom name="rear_right_wheel_2_extension_body_collision_0" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" type="box" size="0.0125 0.0025 0.0025" rgba="0 0 0 0" />
            <geom name="rear_right_wheel_2_extension_body_visual_0" class="visualgeom" pos="-0.0125 0 0" quat="1.0 0.0 0.0 0.0" material="rear_right_wheel_2_extension_body_material" type="box" size="0.0125 0.0025 0.0025" />
          </body>
        </body>
      </body>
    </body>
  </worldbody>


<equality>
  <!-- Front-left: leg1 = leg0, leg2 = leg0 -->
  <joint name="eq_fl_10" joint1="front_left_wheel_1_extension_joint" joint2="front_left_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>
  <joint name="eq_fl_20" joint1="front_left_wheel_2_extension_joint" joint2="front_left_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>

  <!-- Front-right -->
  <joint name="eq_fr_10" joint1="front_right_wheel_1_extension_joint" joint2="front_right_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>
  <joint name="eq_fr_20" joint1="front_right_wheel_2_extension_joint" joint2="front_right_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>

  <!-- Rear-left -->
  <joint name="eq_rl_10" joint1="rear_left_wheel_1_extension_joint" joint2="rear_left_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>
  <joint name="eq_rl_20" joint1="rear_left_wheel_2_extension_joint" joint2="rear_left_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>

  <!-- Rear-right -->
  <joint name="eq_rr_10" joint1="rear_right_wheel_1_extension_joint" joint2="rear_right_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>
  <joint name="eq_rr_20" joint1="rear_right_wheel_2_extension_joint" joint2="rear_right_wheel_0_extension_joint" polycoef="0 1 0 0 0"/>
</equality>

<actuator>
  <!-- Wheel torques (N·m) -->
  <motor name="front_left_wheel_joint_ctrl"  joint="front_left_wheel_joint"  ctrllimited="true" ctrlrange="-0.8 0.8" />
  <motor name="front_right_wheel_joint_ctrl" joint="front_right_wheel_joint" ctrllimited="true" ctrlrange="-0.8 0.8" />
  <motor name="rear_left_wheel_joint_ctrl"   joint="rear_left_wheel_joint"   ctrllimited="true" ctrlrange="-0.8 0.8" />
  <motor name="rear_right_wheel_joint_ctrl"  joint="rear_right_wheel_joint"  ctrllimited="true" ctrlrange="-0.8 0.8" />

  <!-- Leg extension torques (N·m) -->
  <motor name="front_left_wheel_0_extension_joint_ctrl"  joint="front_left_wheel_0_extension_joint"  ctrllimited="true" ctrlrange="-0.6 0.6" />
  <!-- <position name="front_left_wheel_0_extension_joint_ctrl"  joint="front_left_wheel_0_extension_joint"  ctrllimited="true" ctrlrange="-1.047 3.427" /> -->

  <motor name="front_right_wheel_0_extension_joint_ctrl" joint="front_right_wheel_0_extension_joint" ctrllimited="true" ctrlrange="-0.6 0.6" />
  <!-- <position name="front_right_wheel_0_extension_joint_ctrl"  joint="front_right_wheel_0_extension_joint"  ctrllimited="true" ctrlrange="-1.047 3.427" /> -->

  <motor name="rear_left_wheel_0_extension_joint_ctrl"   joint="rear_left_wheel_0_extension_joint"   ctrllimited="true" ctrlrange="-0.6 0.6" />
  <!-- <position name="rear_left_wheel_0_extension_joint_ctrl"  joint="rear_left_wheel_0_extension_joint"  ctrllimited="true" ctrlrange="-1.047 3.427" /> -->

  <motor name="rear_right_wheel_0_extension_joint_ctrl"  joint="rear_right_wheel_0_extension_joint"  ctrllimited="true" ctrlrange="-0.6 0.6" />
  <!-- <position name="rear_right_wheel_0_extension_joint_ctrl"  joint="rear_right_wheel_0_extension_joint"  ctrllimited="true" ctrlrange="-1.047 3.427" /> -->


</actuator>

  <sensor>
    <framepos name="base_link_pos" objtype="site" objname="root_site" />
    <framequat name="base_link_quat" objtype="site" objname="root_site" />
    <framelinvel name="base_link_vel" objtype="site" objname="root_site" />
    <frameangvel name="base_link_ang_vel" objtype="site" objname="root_site" />

    <accelerometer name="root_acc" site="root_site"/>
    <gyro          name="root_gyro" site="root_site"/>
    <!-- <touch name="box_touch" site="traverse_box_site"/> -->


  </sensor>
</mujoco>